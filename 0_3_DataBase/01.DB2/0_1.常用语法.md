---
tags:
  - DB2
  - 数据库
---
## 0.测试函数常用SQL格式

```sql
select substr('t_001_student',6) from sysibm.dual;
values substr('t_001_student',6);
```

## 1.按照字段的指定顺序排序

`decode(column, case1, value1, case2, value2,..., caseN, valueN, default)`
其中，column 表示某个列，caseN和valueN表示当值为caseN时，返回valueN，默认值为default。
这样，可以利用decode给列按照指定的顺序排序

```sql
select * from my_table where code in(1, 2, 3) order by  decode(code, 2, 1, 1, 2, 3)
```

<u>*注意： 此方法无法使用索引排序，可能会有性能问题*</u>

## 2.limit查询

` fetch first num rows only`
```sql
select * from sname.usertable fetch first 10 rows only
```

## 3.长度

DB2不一样的编码集，汉字的长度不一样。gbk，一个汉字占2个字节；如果是utf-8，一个汉字占3个字节。

查询编码集

```shell
db2 get db cfg | grep 'Database code set'
```