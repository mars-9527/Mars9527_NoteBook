
[mac上安装zookeeper教程 (taodudu.cc)](http://www.taodudu.cc/news/show-890042.html?action=onClick)

# 1.下载

下载tar包解压，推荐使用3.5.9版本，不要使用3.6以上的高版本，它jdk1.8冲突，也不要直接brew install zookeeper--默认最高版本

在这个地址下载Apache下的所有软件
[Index of /dist (apache.org)](http://archive.apache.org/dist/)

又因为当前安装使用的Hadoop版本为3.2.1，依赖的zookeeper为3.4.13，而kafka启动的时候会检测版本冲突，环境中的zk版本（不只是安装的zk版本，还有环境中的zk依赖版本），为了整体可用，所以选择zk编译版本为3.4.13对应的kafka版本2.2.2


# 2.配置

解压 `kafka_2.11-2.2.2.tgz` 到 目录 `/usr/local/bigdata`

在安装目录下`/usr/local/bigdata/kafka/kafka_2.11-2.2.2`
新建文件夹data和log


修改配置 
```shell
cd /usr/local/bigdata/kafka/kafka_2.11-2.2.2
cd conf
cp zoo_sample.cfg zoo.cfg
```

修改路径地址`dataDir` 和 `dataLogDir`
```cfg
dataDir=/usr/local/bigdata/zookeeper/zookeeper-3.4.13/data
dataLogDir=/usr/local/bigdata/zookeeper/zookeeper-3.4.13/log
```

修改环境变量 `open -t ~/.zshrc`

```
export ZK_HOME=/usr/local/bigdata/zookeeper/zookeeper-3.4.13

export PATH=${ZK_HOME}/bin:$PATH
```

# 3.运行

```shell
zkServer.sh start

zkServer.sh stop
```