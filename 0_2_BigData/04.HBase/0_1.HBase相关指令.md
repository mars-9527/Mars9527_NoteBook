---
tags:
  - HBase
---
| 项目                                           | 指令                                                         |
| ---------------------------------------------- | ------------------------------------------------------------ |
| 创建表                                         | create 'student','info'                                      |
| 查看默认namespace里的表                        | list list 'default:TEST_.*' (.是用于匹配不是表名里面的字符)  |
| 扫描查看表数据                                 | scan 'student' scan 'student',{STARTROW => '1001', STOPROW => '1001'}  <br>scan 'student',{STARTROW => '1001'} <br>scan 'student',{LIMIT=>10} 查看前十条数据 |
| 查看表结构                                     | describe 'student'                                           |
| 更新指定字段的数据                             | put 'student','1001','info:name','Nick'                      |
| 查看“指定行”                                   | get 'student','1001'                                         |
| “指定列族:列”                                  | get 'student','1001','info:name'                             |
| "指定列族"的数据                               | get 'student','1001','info'                                  |
| 获得"指定列族"的最近3个版本的数据              | get 'student','1001',{COLUMN=>'info:name',VERSIONS=>3}       |
| 统计表数据行数                                 | count 'student'                                              |
| 插入数据到表                                   | put 'student','1002','info:name','Janna',1536911294079 若插入数据的时间戳小于该属性值最大的删除时间戳，那么这条插入记录不会被保存 <br>put 'student','1002','info:name','Janna'（时间戳可以不加，默认为现在） |
| 删除表中的具体数据值                           | delete 'student','1002','info:age',1536911294079 （删除的是<=时间戳的所有数据）<br> delete 'student','1002','info:age'（时间戳可以不加，默认为现在） |
| 删除某rowkey的某一列数据                       | delete 'student','1002','info:sex'                           |
| 删除某rowkey的某一列族的数据（不支持命令删除） | delete 'student','1002','info'                               |
| 删除某rowkey的全部数据：                       | deleteall 'student','1001'                                   |
| 禁用表                                         | disable 'student'  disable_all 'default:TEST_.*'(批量禁用)   |
| 删除表                                         | drop 'student' <br>drop_all 'default:TEST_.*'(批量禁用)          |
| 清空表数据                                     | truncate 'student'（清空表的操作顺序为先disable，然后再truncate） <br> truncate_preserve 'student' (清空表数据，但是保留表结构) |
| 删除表                                         | disable 'student' <br>drop 'student' <br>(首先需要先让该表为disable状态，然后才能drop这个表。如果直接drop表，会报错：ERROR: Table student is enabled. Disable it first.)  <br> echo -e "disable_all 'TEST_.*'\ny" \| hbase shell -n <br>echo -e "drop_all 'TEST_.*'\ny" \| hbase shell -n <br>(这两命令可以匹配正则表达式，对表进行批量操作，也可以对确定名字的单表操作，在表名不存在时，也不会返回exception，只会有提示信息。\ny是为了实现自动确认，因为这两命令需要用户交互确认。) |
| 变更表的列族信息、增加表的列族                 | alter 'student',{NAME=>'info',VERSIONS=>3}                   |
| 创建namespace                                  | create_namespace 'ai_ns'                                     |
| 删除namespace                                  | drop_namespace 'ai_ns'                                       |
| 查看namespace                                  | describe_namespace 'ai_ns'                                   |
| 列出所有namespace                              | list_namespace                                               |
| 在namespace下创建表                            | create 'ai_ns:testtable', 'fm1'                              |
| 查看namespace下的表                            | list_namespace_tables 'ai_ns'                                |
| 列出所有rowkey                                 | count 'tablename', INTERVAL=>1 （做为大数据管理工具，不建议列出所有rowkey,不过anyway） |
| 批量执行指令                                   | sudo -u hbase hbase shell -n hbase_command.txt               |